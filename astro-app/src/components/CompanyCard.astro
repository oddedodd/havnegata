---
import { urlFor } from "../utils/image";

// Props: name, tagline, image, bgColor
const { name, tagline, image, bgColor } = Astro.props;

const imageUrl = image ? urlFor(image).width(100).height(100).url() : null;

console.log(tagline)
---

<div class="w-full flex justify-center sm:justify-normal">
  <div
    class="relative flex flex-col items-center text-center rounded-md p-6 pt-20 mt-24 w-full"
    style={`background-color: ${bgColor || '#f9f9f9'}`}
  >
    <!-- Image: absolute, centered, overlaps top -->
    <div class="absolute -top-16 left-1/2 -translate-x-1/2 w-32 aspect-square">
      <div class="w-full h-full rounded-full overflow-hidden bg-gray-100 flex items-center justify-center">
        {imageUrl ? (
          <img
            src={imageUrl}
            alt={name}
            class="w-full h-full object-cover"
            width="100"
            height="100"
          />
        ) : (
          <span class="text-gray-500 text-2xl font-bold">{name.charAt(0)}</span>
        )}
      </div>
    </div>
    <p class="text-xs font-body font-medium uppercase tracking-wide text-gray-600 mt-4">{name}</p>
    <h2 class="text-2xl font-headline font-bold mt-2">
      {tagline}
    </h2>
  </div>
</div>